# 函数柯里化

> 在数学和计算机科学中，柯里化是一种将使用多个参数的函数转换成一系列使用一个参数的函数的技术。

## 例子1

```javascript
function add(a, b) {
    return a + b;
}

// 执行add函数，一次传入两个参数即可
add(1, 2) // 3

// 假设有一个curry函数可以做到柯里化
var addCurry = curry(add);
addCurry(1)(2) // 3
```

## 用途

如何写出curry函数，并且写的很强大？

- 示意例子1

```javascript
function ajax(type, url, data) {
    var xhr = new XMLHttpRequest();
    xhr.open(type, url, true);
    xhr.send(data);
}

// 虽然ajax这个函数非常通用，但在重复调用的时候参数冗余
ajax('POST', 'www.test.com', 'name=viiv');

// 利用curry
var ajaxCurry = curry(ajax);

// 以POST请求为例
var post = ajaxCurry('POST');
post('www.test.com', 'name=viiv');

// 以POST类型请求来自于www.test.com的数据
var postFromTest = posy('www.test.com');
postFromTest('name-viiv');

```

> 可以理解为：参数重复。本质上是降低通用性，提高适用性。

- 示意例子1

比如有一段数据

```javascript
var person = [{name: 'viiv'}, {name: 'seek'}]
```

要取得所有name的值，可以这样做

```javascript
var name = person.map(item => item.name);
```

不过如果我们有curry函数，可以这样做

```javascript
var prop = curry((key, obj) => obj[key])
var name = person.map(prop('name'))
```

`person.map(prop('name'))`直白表达：person对象遍历（map）获取（prop）name属性。

## 开始编写柯里化函数

### 第一版

```javascript
var curry = function(fn) {
    var args = [].slice.call(arguments, 1);
    return function() {
        var newArgs = args.concat([].slice.call(arguments));
        return fn.apply(this, newArgs);
    }
}
```
